{"version":3,"sources":["../../../src/components/modules/rating/rating.jsx"],"names":["Rating","props","onRatingIconClick","index","onChange","value","onRatingIconMouseEnter","setState","hovered","onRatingIconMouseLeave","state","icons","max","i","push","component","defaultClasses","type","size","other","className","getClasses","Component","renderIcons","ui","PureComponent","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;;;AAEA;;;IAGqBA,M;;;AAgCjB,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA,oHACTA,KADS;;AAAA,cAWnBC,iBAXmB,GAWC,UAACC,KAAD,EAAW;AAAA,8BACC,MAAKF,KADN;AAAA,gBACnBG,QADmB,eACnBA,QADmB;AAAA,gBACTC,KADS,eACTA,KADS;;AAE3B,gBAAIF,UAAUE,KAAd,EAAqB;AACjBD,yBAASD,KAAT;AACH;AACJ,SAhBkB;;AAAA,cAsBnBG,sBAtBmB,GAsBM,UAACH,KAAD,EAAW;AAChC,kBAAKI,QAAL,CAAc,EAAEC,SAASL,KAAX,EAAd;AACH,SAxBkB;;AAAA,cA8BnBM,sBA9BmB,GA8BM,UAACN,KAAD,EAAW;AAChC,kBAAKI,QAAL,CAAc,EAAEC,SAAS,CAAX,EAAd;AACH,SAhCkB;;AAEf,cAAKE,KAAL,GAAa;AACTF,qBAAS;AADA,SAAb;AAFe;AAKlB;;AAED;;;;;;AAWA;;;;;;AAQA;;;;;;;;sCAQc;AACV,gBAAMG,QAAQ,EAAd;AADU,yBAEa,KAAKV,KAFlB;AAAA,gBAEFW,GAFE,UAEFA,GAFE;AAAA,gBAEGP,KAFH,UAEGA,KAFH;AAAA,gBAGFG,OAHE,GAGU,KAAKE,KAHf,CAGFF,OAHE;;AAKV;;AACA,iBAAK,IAAIK,IAAI,CAAb,EAAgBA,KAAKD,GAArB,EAA0BC,GAA1B,EAA+B;AAC3BF,sBAAMG,IAAN,CACI,gDAAY,KAAKD,CAAjB;AACY,2BAAOA,CADnB;AAEY,4BAASA,KAAKR,KAF1B;AAGY,8BAAWQ,KAAKL,OAH5B;AAIY,6BAAS,KAAKN,iBAJ1B;AAKY,kCAAc,KAAKI,sBAL/B;AAMY,kCAAc,KAAKG;AAN/B,kBADJ;AAUH;AACD,mBAAOE,KAAP;AACH;;;iCAEQ;AACL;AADK,0BAE2E,KAAKV,KAFhF;AAAA,gBAECc,SAFD,WAECA,SAFD;AAAA,gBAEYC,cAFZ,WAEYA,cAFZ;AAAA,gBAE4BC,IAF5B,WAE4BA,IAF5B;AAAA,gBAEkCL,GAFlC,WAEkCA,GAFlC;AAAA,gBAEuCM,IAFvC,WAEuCA,IAFvC;AAAA,gBAE6Cb,KAF7C,WAE6CA,KAF7C;AAAA,gBAEoDD,QAFpD,WAEoDA,QAFpD;AAAA,gBAEiEe,KAFjE;AAGL;;AAEAA,kBAAMC,SAAN,GAAkB,0BAAW,KAAKnB,KAAL,CAAWmB,SAAtB,EAAiC,KAAKC,UAAL,EAAjC,CAAlB;AACA,gBAAMC,YAAYP,SAAlB;AACA,mBACI;AAAC,yBAAD;AAAeI,qBAAf;AACK,qBAAKI,WAAL;AADL,aADJ;AAKH;;;qCAEY;AAAA;;AACT;AACIC,oBAAI,KAAKvB,KAAL,CAAWe;AADnB,qCAEK,KAAKf,KAAL,CAAWiB,IAFhB,EAEuB,CAAC,CAAC,KAAKjB,KAAL,CAAWiB,IAFpC,iCAGU,KAAKjB,KAAL,CAAWgB,IAAX,KAAoB,MAH9B,kCAIW,KAAKhB,KAAL,CAAWgB,IAAX,KAAoB,OAJ/B,mCAKY,KAAKhB,KAAL,CAAWe,cALvB;AAOH;;;;EA7G+B,gBAAMS,a,UAyB/BC,Y,gBACA,uBAAaA,Y;AAChBT,UAAM,S;AACNZ,WAAO,C;AACPO,SAAK;;kBA7BQZ,M","file":"rating.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport DefaultProps from '../../defaultProps';\nimport RatingIcon from './icon';\n\n/**\n * Rating\n */\nexport default class Rating extends React.PureComponent {\n    static propTypes = {\n        ...DefaultProps.propTypes,\n        /**\n         * Rating type\n         */\n        type: PropTypes.oneOf(['default', 'star', 'heart']),\n        /**\n         * Rating size\n         */\n        size: PropTypes.oneOf(['mini', 'tiny', 'small', 'medium', 'large', 'big', 'huge', 'massive']),\n        /**\n         * Rating max value\n         */\n        max: PropTypes.number,\n        /**\n         * Rating value\n         */\n        value: PropTypes.number,\n        /*\n         * Rating change value callback\n         */\n        onChange: PropTypes.func\n    };\n\n    static defaultProps = {\n        ...DefaultProps.defaultProps,\n        type: 'default',\n        value: 0,\n        max: 5\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            hovered: 0\n        };\n    }\n\n    /**\n     * Rating click handler\n     * @param index\n     */\n    onRatingIconClick = (index) => {\n        const { onChange, value } = this.props;\n        if (index !== value) {\n            onChange(index);\n        }\n    };\n\n    /**\n     * Mouse enter hover handler\n     * @param index\n     */\n    onRatingIconMouseEnter = (index) => {\n        this.setState({ hovered: index });\n    };\n\n    /**\n     * Mouse leave hover handler\n     * @param index\n     */\n    onRatingIconMouseLeave = (index) => {\n        this.setState({ hovered: 0 });\n    };\n\n    renderIcons() {\n        const icons = [];\n        const { max, value } = this.props;\n        const { hovered } = this.state;\n\n        // Indexes are from 1\n        for (let i = 1; i <= max; i++) {\n            icons.push(\n                <RatingIcon key={i}\n                            index={i}\n                            active={(i <= value)}\n                            selected={(i <= hovered)}\n                            onClick={this.onRatingIconClick}\n                            onMouseEnter={this.onRatingIconMouseEnter}\n                            onMouseLeave={this.onRatingIconMouseLeave}\n                />\n            );\n        }\n        return icons;\n    }\n\n    render() {\n        /* eslint-disable no-use-before-define */\n        let { component, defaultClasses, type, max, size, value, onChange, ...other } = this.props;\n        /* eslint-enable no-use-before-define */\n\n        other.className = classNames(this.props.className, this.getClasses());\n        const Component = component;\n        return (\n            <Component {...other}>\n                {this.renderIcons()}\n            </Component>\n        );\n    }\n\n    getClasses() {\n        return {\n            ui: this.props.defaultClasses,\n            [this.props.size]: !!this.props.size,\n            star: this.props.type === 'star',\n            heart: this.props.type === 'heart',\n            rating: this.props.defaultClasses\n        }\n    }\n}\n"]}